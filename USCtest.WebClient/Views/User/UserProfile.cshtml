@using USCtest.WebClient.ViewModels;
@using USCtest.WebClient.ViewModels.UserVM;

@model UserViewModel;

<div class="users-container">
    <form asp-area="" asp-controller="Users" asp-action="List" method="get">
        <input name="name" class="form-control" placeholder="ФИО пользователя" />
        <button type="submit">
            Поиск
        </button>
    </form>

    <div class="user-profile-container">
        <div class="user-info-container">
            <p>@Model.FullName</p>
            <p>@Model.Passport</p>
        </div>

        <div class="user-flats">
            @foreach (var flat in Model.Registrations.Select(r => r.Flat))
            {
                <div class="user-flat-info-container">
                    <p>@flat.Address</p>
                    <p>@flat.IsColdWatherDevice</p>
                    <p>@flat.IsHotWatherDevice</p>
                    <p>@flat.IsElectricPowerDevice</p>
                    <p>@flat.Debt;</p>

                    <a asp-area="" asp-controller="Flat" asp-action="AddIndications" asp-route-id="@flat.Id" method="get">
                        <button type="submit">
                            Передать показания
                        </button>
                    </a>
                    <form asp-area="" asp-controller="Registration" asp-action="Remove" asp-route-id="@flat.Id" method="post">
                        <button type="submit">
                            Удалить
                        </button>
                    </form>
                </div>
            }
        </div>
    </div>
</div>
